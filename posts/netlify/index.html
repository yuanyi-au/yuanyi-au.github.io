<!DOCTYPE html>
<html><head>
<title>使用 Netlify 部署个人网站以及预览 GitHub 上的 PR</title>




<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">



<meta property="og:title" content="使用 Netlify 部署个人网站以及预览 GitHub 上的 PR" />
<meta property="og:description" content="使用 Netlify 部署个人网站以及预览 GitHub 上的 PR Netlify 是一个可以用来构建、部署、协作处理 Web 应用程序的云平台
本篇笔记介绍了如何在 GitHub 上添加 Netlify 以便预览提交的 Pull Request 效果
也可以参考此笔记将自己的网站部署在 Netlify 上
安装准备 在 GitHub 上安装 Netlify ，授权 GitHub 账号
或者你也可以选择在 Netlify 官网 上进行注册授权
New site from Git 选择平台 - 选择仓库 - 选择分支 - 基本设置 - deploy site
基本设置 常见框架对应的 Build command 和 Publish directory 可以看 官网文档
环境变量 如果第一次 deploy 失败，请查看环境设置，检查版本是否正确
Site settings &gt; Build &amp; deploy &gt; Environment &gt; Environment variables" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yuanyi-au.github.io/posts/netlify/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-17T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-08-17T00:00:00+00:00" /><meta property="og:site_name" content="My Blog" />






<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="使用 Netlify 部署个人网站以及预览 GitHub 上的 PR"/>
<meta name="twitter:description" content="使用 Netlify 部署个人网站以及预览 GitHub 上的 PR Netlify 是一个可以用来构建、部署、协作处理 Web 应用程序的云平台
本篇笔记介绍了如何在 GitHub 上添加 Netlify 以便预览提交的 Pull Request 效果
也可以参考此笔记将自己的网站部署在 Netlify 上
安装准备 在 GitHub 上安装 Netlify ，授权 GitHub 账号
或者你也可以选择在 Netlify 官网 上进行注册授权
New site from Git 选择平台 - 选择仓库 - 选择分支 - 基本设置 - deploy site
基本设置 常见框架对应的 Build command 和 Publish directory 可以看 官网文档
环境变量 如果第一次 deploy 失败，请查看环境设置，检查版本是否正确
Site settings &gt; Build &amp; deploy &gt; Environment &gt; Environment variables"/>







<link type="text/css" rel="stylesheet" href="/vendor/css/bootstrap.min.css">


  






<link rel="stylesheet" href="https://yuanyi-au.github.io/scss/journal.min.3f72a5fc8f5b5dd732a4b476aced0eece2156958d9d414316494ddb10593ddf7.css" integrity="sha256-P3Kl/I9bXdcypLR2rO0O7OIVaVjZ1BQxZJTdsQWT3fc=" media="screen">



<link rel="stylesheet" href="https://yuanyi-au.github.io/scss/dark-mode.min.f7c2efa7183435a6bd1842f91c541481c7a5137b5991629a870f24e4a516ad4b.css" integrity="sha256-98Lvpxg0Naa9GEL5HFQUgcelE3tZkWKahw8k5KUWrUs=" media="screen">


<script src="/vendor/js/loadCSS.js"></script>
<script>
  loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons");
</script>






  <script src="/js/toc.js"></script>



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="/vendor/js/md5.min.js"></script>
<script>
  var gitalk = new Gitalk({
  clientID: 'fcc1b570c7a27241f68a',
  clientSecret: 'd8b4cb63950ea0a6f1776492d9b9261b7e9c94c9',
  repo: 'yuanyi-au.github.io',
  owner: 'yuanyi-au',
  admin: ['yuanyi-au'],
  id: md5(location.pathname),
  distractionFreeMode: 'false'
  });
  window.onload = function () {
        gitalk.render('gitalk-container')
  }
</script>












</head>
<body>
    	<div id="app"><div id="sideContainer" class="side-container">
    
    <a class="a-block nav-head false" href="https://yuanyi-au.github.io/">
    
        <div class="nav-title">
            方圆之所
        </div>
        
        <div class="nav-subtitle">
            yuanyi&#39;s blog
        </div>
        
    </a>

    <div class="nav-link-list">
        
        
            
            
            
                
            
            
            
            <a class="a-block nav-link-item active" href="/posts">
                文章
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/categories">
                分类
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags">
                标签
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/about">
                关于
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
移植自 <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	2021 Yuanyi. All rights reserved.
	

    </div>
    
</div><div id="extraContainer" class="extra-container">
    
    
    <div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">


	<div class="toc-content">
	
		
		
		
		<center>- 目录 -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bd%bf%e7%94%a8-netlify-%e9%83%a8%e7%bd%b2%e4%b8%aa%e4%ba%ba%e7%bd%91%e7%ab%99%e4%bb%a5%e5%8f%8a%e9%a2%84%e8%a7%88-github-%e4%b8%8a%e7%9a%84-pr" onclick="onNavClick(`#使用-netlify-部署个人网站以及预览-github-上的-pr-nav`)" id="使用-netlify-部署个人网站以及预览-github-上的-pr-nav">
									使用 Netlify 部署个人网站以及预览 GitHub 上的 PR
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%ae%89%e8%a3%85%e5%87%86%e5%a4%87" onclick="onNavClick(`#安装准备-nav`)" id="安装准备-nav">
									安装准备
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#new-site-from-git" onclick="onNavClick(`#new-site-from-git-nav`)" id="new-site-from-git-nav">
									New site from Git
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%9f%ba%e6%9c%ac%e8%ae%be%e7%bd%ae" onclick="onNavClick(`#基本设置-nav`)" id="基本设置-nav">
									基本设置
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f" onclick="onNavClick(`#环境变量-nav`)" id="环境变量-nav">
									环境变量
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bf%ae%e6%94%b9%e5%9f%9f%e5%90%8d" onclick="onNavClick(`#修改域名-nav`)" id="修改域名-nav">
									修改域名
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e4%b8%ba-pr-%e7%94%9f%e6%88%90%e9%a2%84%e8%a7%88" onclick="onNavClick(`#为-pr-生成预览-nav`)" id="为-pr-生成预览-nav">
									为 PR 生成预览
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%af%b9%e5%bc%80%e6%ba%90%e9%a1%b9%e7%9b%ae%e7%9a%84%e6%94%af%e6%8c%81" onclick="onNavClick(`#对开源项目的支持-nav`)" id="对开源项目的支持-nav">
									对开源项目的支持
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" onclick="onNavClick(`#参考资料-nav`)" id="参考资料-nav">
									参考资料
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a type="button" class="pagination-action" id="darkModeToggleButton">
            <span class="material-icons pagination-action-icon" id="darkModeToggleIcon">
                dark_mode
            </span>
        </a>
        
        
    </div>
</div>
<div class="single-column-drawer-container" id="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
            
                
                
                
                    
                
                
                
                <a class="a-block drawer-menu-item active" href="/posts">
                    文章
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/categories">
                    分类
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags">
                    标签
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/about">
                    关于
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>- 目录 -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bd%bf%e7%94%a8-netlify-%e9%83%a8%e7%bd%b2%e4%b8%aa%e4%ba%ba%e7%bd%91%e7%ab%99%e4%bb%a5%e5%8f%8a%e9%a2%84%e8%a7%88-github-%e4%b8%8a%e7%9a%84-pr" onclick="onNavClick(`#使用-netlify-部署个人网站以及预览-github-上的-pr-nav`)" id="使用-netlify-部署个人网站以及预览-github-上的-pr-nav">
									使用 Netlify 部署个人网站以及预览 GitHub 上的 PR
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%ae%89%e8%a3%85%e5%87%86%e5%a4%87" onclick="onNavClick(`#安装准备-nav`)" id="安装准备-nav">
									安装准备
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#new-site-from-git" onclick="onNavClick(`#new-site-from-git-nav`)" id="new-site-from-git-nav">
									New site from Git
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
							
								
									<ul>
								
							
						
						
							<li>
								<a href="#%e5%9f%ba%e6%9c%ac%e8%ae%be%e7%bd%ae" onclick="onNavClick(`#基本设置-nav`)" id="基本设置-nav">
									基本设置
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e7%8e%af%e5%a2%83%e5%8f%98%e9%87%8f" onclick="onNavClick(`#环境变量-nav`)" id="环境变量-nav">
									环境变量
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e4%bf%ae%e6%94%b9%e5%9f%9f%e5%90%8d" onclick="onNavClick(`#修改域名-nav`)" id="修改域名-nav">
									修改域名
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
							
								</ul>
							
						
						
						
							<li>
								<a href="#%e4%b8%ba-pr-%e7%94%9f%e6%88%90%e9%a2%84%e8%a7%88" onclick="onNavClick(`#为-pr-生成预览-nav`)" id="为-pr-生成预览-nav">
									为 PR 生成预览
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%af%b9%e5%bc%80%e6%ba%90%e9%a1%b9%e7%9b%ae%e7%9a%84%e6%94%af%e6%8c%81" onclick="onNavClick(`#对开源项目的支持-nav`)" id="对开源项目的支持-nav">
									对开源项目的支持
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" onclick="onNavClick(`#参考资料-nav`)" id="参考资料-nav">
									参考资料
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div id="drawer-mask" v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav id="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div id="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a id="navTitle" class="navbar-brand" href="https://yuanyi-au.github.io/">
            方圆之所
        </a>
        
        <button type="button" class="nav-darkmode-toggle" id="darkModeToggleButton2">
            <i class="material-icons" id="darkModeToggleIcon2">
                dark_mode
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" id="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="https://yuanyi-au.github.io/">
        <div class="single-column-header-title">方圆之所</div>
        
        <div class="single-column-header-subtitle">yuanyi&#39;s blog</div>
        

    </a>
</div>

            <div id="content">
                <div id="streamContainer" class="stream-container">

    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            

            <div class="post-head-wrapper-text-only"
                
            >
                <div class="post-title">
                    使用 Netlify 部署个人网站以及预览 GitHub 上的 PR
                    
                    <div class="post-meta">
                        
                        <time itemprop="datePublished">
                            2021-08-17
                        </time>
                        

                        
                            <i class="material-icons" style="">folder</i>
                                <a href="/categories/%E6%8A%80%E6%9C%AF">技术</a>
                                &nbsp;
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/netlify">Netlify</a>
                                &nbsp;
                            
                                <a href="/tags/%E5%89%8D%E7%AB%AF">前端</a>
                                &nbsp;
                            
                                <a href="/tags/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2">网站部署</a>
                                &nbsp;
                            
                        
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                
                <div class="post-body" v-pre>
                
                    <h1 id="使用-netlify-部署个人网站以及预览-github-上的-pr">使用 Netlify 部署个人网站以及预览 GitHub 上的 PR</h1>
<p>Netlify 是一个可以用来构建、部署、协作处理 Web 应用程序的云平台</p>
<p>本篇笔记介绍了如何在 GitHub 上添加 Netlify 以便预览提交的 Pull Request 效果</p>
<p><img src="../images/netlify-bot.png" alt=""></p>
<p>也可以参考此笔记将自己的网站部署在 Netlify 上</p>
<h2 id="安装准备">安装准备</h2>
<p>在 GitHub 上安装 <a href="https://github.com/apps/netlify"> Netlify </a>，授权 GitHub 账号</p>
<p>或者你也可以选择在 <a href="https://www.netlify.com/">Netlify 官网</a> 上进行注册授权</p>
<h2 id="new-site-from-git">New site from Git</h2>
<p>选择平台 - 选择仓库 - 选择分支 - 基本设置 - deploy site</p>
<h3 id="基本设置">基本设置</h3>
<p>常见框架对应的 Build command 和 Publish directory 可以看 <a href="https://docs.netlify.com/configure-builds/common-configurations/">官网文档</a></p>
<h3 id="环境变量">环境变量</h3>
<p>如果第一次 deploy 失败，请查看环境设置，检查版本是否正确</p>
<p><code>Site settings &gt; Build &amp; deploy &gt; Environment &gt; Environment variables</code></p>
<p><img src="../images/netlify-environment.png" alt=""></p>
<h3 id="修改域名">修改域名</h3>
<p>Netlify 会自动以你的 site name 生成一个域名：<code>[name-of-your-site].netlify.app</code></p>
<p>进入 <code>Domain Setting &gt; Domain management &gt; Custom domains</code>，可以通过修改 site name 修改域名</p>
<p><img src="../images/netlify-domain.png" alt=""></p>
<h2 id="为-pr-生成预览">为 PR 生成预览</h2>
<p>进入 <code>Site settings &gt; Build &amp; deploy &gt; Deploy notifications</code></p>
<p><img src="../images/netlify-notification.png" alt=""></p>
<p>选择 ”Add notification“ ，在下拉菜单中选择 “GitHub Pull Request Comment” ，然后选择 “Deploy Preview succeeded” ，保存</p>
<p><img src="../images/netlify-prcomment.png" alt=""></p>
<p>现在每个新出现的 PR 都会自动生成一个评论，包含预览链接 <code>deploy-preview-4--yoursitename.netlify.app</code></p>
<h2 id="对开源项目的支持">对开源项目的支持</h2>
<p>如果是开源项目，可以阅读 <a href="https://www.netlify.com/legal/open-source-policy">Open Source Plan Policy</a> 相关内容，提交申请表单，就能免费享有 Pro 的功能，团队成员数量无限制</p>
<h2 id="参考资料">参考资料</h2>
<p><a href="https://docs.netlify.com/site-deploys/deploy-previews/"> Netlify 官网文档</a></p>
<p><a href="https://levelup.gitconnected.com/how-to-setup-previews-for-prs-on-your-github-repo-using-netlify-105c80574875"> How to Setup Previews For PRs on Your GitHub Repo Using Netlify </a></p>

                    
                    <HR width="100%" id="EOF">
		    <p style="color:#777;">最后修改于 2021-08-17</p>
                    
                </div>
            </div>
            
            
            <nav class="post-pagination">

                
                <a class="newer-posts" href="https://yuanyi-au.github.io/posts/opensource/">
			上篇<br>开源入门之路
                </a>
                
                
                
                <a class="older-posts" href="https://yuanyi-au.github.io/posts/package.json-package-lock.json/">
			下篇<br>package.json 与 package-lock.json
                </a>
                
            </nav>
            <div class="post-comment-wrapper">
                


<div id="gitalk-container"></div>









            </div>
        </div>
    </div>


                    </div>
            </div><div id="single-column-footer">
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
移植自 <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	2021 Yuanyi. All rights reserved.
	
</div>
            </div>
    
    <script src="/js/journal.js"></script>
    </body>
</html>
